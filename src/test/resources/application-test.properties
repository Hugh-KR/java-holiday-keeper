# ============================================
# Test Environment Configuration
# ============================================
# 테스트 환경은 .env와 독립적으로 동작 (격리된 환경)

spring.application.name=holiday-keeper-test

# ============================================
# Server Configuration (Test)
# ============================================
server.port=0

# ============================================
# Database Configuration (Test - In-Memory)
# ============================================
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# ============================================
# JPA/Hibernate Configuration (Test)
# ============================================
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.use_sql_comments=false

# Hibernate Batch Processing Configuration (Test)
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# ============================================
# H2 Console (Test)
# ============================================
spring.h2.console.enabled=false
spring.h2.console.path=/h2-console

# ============================================
# External API Configuration (Test)
# ============================================
external.api.nager-date.base-url=https://date.nager.at/api/v3

# ============================================
# Batch Configuration (Disable scheduler in tests)
# ============================================
batch.sync.cron=-

# ============================================
# Holiday Data Configuration (Test)
# ============================================
holiday.data.start-year=2020
holiday.data.end-year=2025

# ============================================
# Actuator Configuration (Test)
# ============================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# ============================================
# Logging Configuration (Test)
# ============================================
logging.level.com.planitsquare.holiday_keeper=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=OFF
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=OFF
logging.level.org.hibernate.type.descriptor.sql.BasicExtractor=OFF
logging.level.org.springframework.jdbc=OFF
logging.level.org.springframework.orm.jpa=OFF
logging.level.org.hibernate=WARN
logging.level.org.springframework.transaction=WARN
logging.level.org.springframework.boot.autoconfigure=WARN
